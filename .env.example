# ===========================================
# N8N Docker Setup Environment Variables
# =============================# ===========================================
# Optional UI Tools Configuration
# ===========================================
# Valkey Commander (Redis UI)
REDIS_COMMANDER_PORT=8081
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin123

# pgAdmin (PostgreSQL UI)
PGLADMIN_PORT=8080
PGADMIN_EMAIL=admin@n8n.local
PGADMIN_PASSWORD=admin123

# Portainer (Docker Management UI)
PORTAINER_PORT=9010
PORTAINER_EDGE_PORT=8000
PORTAINER_DOMAIN=portainer.localhost

# Dozzle (Docker Logs UI)
DOZZLE_PORT=9999
DOZZLE_DOMAIN=logs.localhost
DOZZLE_USERNAME=admin
DOZZLE_PASSWORD=admin123
DOZZLE_NO_ANALYTICS=true
DOZZLE_FILTER=name=n8n*

# Watchtower settings for management UIs
WATCHTOWER_ENABLE_PORTAINER=false
WATCHTOWER_ENABLE_DOZZLE=false==
# Copy this file to .env and customize values as needed
# ===========================================

# ===========================================
# N8N Configuration
# ===========================================
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
NODE_ENV=production

# Generate secure keys with: openssl rand -base64 32
N8N_ENCRYPTION_KEY=
N8N_JWT_SECRET=

# Webhooks URL (adjust for your domain/IP)
WEBHOOK_URL=http://localhost:5678/

# Logging and features
N8N_LOG_LEVEL=info
N8N_METRICS=false
N8N_USER_MANAGEMENT_DISABLED=false

# Execution settings
EXECUTIONS_PROCESS=main
EXECUTIONS_MODE=regular

# ===========================================
# Traefik Configuration
# ===========================================
# Enable Traefik for reverse proxy and SSL
TRAEFIK_ENABLE=false

# Domain configuration (required for SSL certificates)
DOMAIN_NAME=localhost
N8N_DOMAIN=n8n.localhost
PGADMIN_DOMAIN=pgadmin.localhost
VALKEY_COMMANDER_DOMAIN=valkey.localhost

# Port configuration
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8090

# SSL/ACME configuration
ACME_EMAIL=admin@example.com

# Traefik dashboard authentication (user: admin, password: admin123)
# Generate with: htpasswd -nbB admin your_password
TRAEFIK_BASIC_AUTH=admin:$$2y$$10$$K.0z7.gWeKUG/ClBkJvXVuT5iCb/7JGv9EhEhjxj1RB2Z.ZEYQYMa

# Traefik logging
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_DEBUG=false
TRAEFIK_CHECK_VERSION=true
TRAEFIK_SEND_USAGE=false

# Cloudflare DNS (optional, for wildcard certificates)
CLOUDFLARE_EMAIL=
CLOUDFLARE_API_TOKEN=

# ===========================================
# Watchtower Configuration
# ===========================================
# Automatic container updates
WATCHTOWER_CLEANUP=true
WATCHTOWER_REMOVE_VOLUMES=false
WATCHTOWER_INCLUDE_STOPPED=false
WATCHTOWER_INCLUDE_RESTARTING=true
WATCHTOWER_POLL_INTERVAL=21600
WATCHTOWER_DEBUG=false
WATCHTOWER_TIMEOUT=10s
WATCHTOWER_MONITOR_ONLY=false
WATCHTOWER_RUN_ONCE=false

# Container-specific Watchtower settings
WATCHTOWER_ENABLE_N8N=true
WATCHTOWER_ENABLE_PGADMIN=true
WATCHTOWER_ENABLE_VALKEY_COMMANDER=true

# Schedule updates (cron format, optional)
# WATCHTOWER_SCHEDULE=0 0 4 * * *

# Notification settings (optional)
WATCHTOWER_NOTIFICATIONS=
WATCHTOWER_NOTIFICATION_URL=

# Containers to monitor (space separated)
WATCHTOWER_CONTAINERS=n8n n8n-postgres n8n-valkey

# Timezone for Watchtower
TIMEZONE=UTC

# ===========================================
# Database Configuration
# ===========================================
# Options: sqlite, postgresdb
DB_TYPE=sqlite

# PostgreSQL settings (only used if DB_TYPE=postgresdb)
POSTGRES_USER=n8n
POSTGRES_PASSWORD=n8n123
POSTGRES_DB=n8n
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_SCHEMA=public

# ===========================================
# Valkey/Redis Configuration
# ===========================================
REDIS_HOST=valkey
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MAX_MEMORY=256mb

# ===========================================
# Optional UI Tools Configuration
# ===========================================
# Valkey Commander (Redis UI)
REDIS_COMMANDER_PORT=8081
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin123

# pgAdmin (PostgreSQL UI)
PGADMIN_PORT=8080
PGADMIN_EMAIL=admin@n8n.local
PGADMIN_PASSWORD=admin123

# ===========================================
# Service Control Profiles
# ===========================================
# Available profiles:
# - postgres: Enable PostgreSQL database
# - valkey: Enable Valkey cache/queue
# - postgres-ui: Enable pgAdmin
# - valkey-ui: Enable Valkey Commander
# - traefik: Enable Traefik reverse proxy
# - watchtower: Enable automatic updates
# - portainer: Enable Docker management UI
# - dozzle: Enable Docker logs UI
# - management-ui: Enable all management UIs
# - logs-ui: Enable log viewing UIs
# - full: Enable all services
# - full-ssl: Enable all services with SSL/Traefik
# - full-ui: Enable all services with management UIs
# 
# Use with: docker-compose --profile <profile-name> up -d
# ===========================================